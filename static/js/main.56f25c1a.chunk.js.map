{"version":3,"sources":["components/ContentCardStyles.tsx","AppStyles.tsx","components/ContentCard.tsx","types.ts","api/searchMovies.ts","App.tsx","index.js"],"names":["Container","styled","Card","TitleText","p","LoadingContainer","div","ContentWrapper","Header","SearchWrapper","TwoCardWrapper","StyledContentCard","props","title","isLoading","items","map","item","i","id","String","movie","year","Button","onClick","onPressButton","variant","style","padding","margin","disabled","isButtonDisabled","buttonText","CircularProgress","searchMovies","searchText","a","fetch","method","response","json","responseJson","console","log","Search","slice","Title","Year","App","useState","isSearchLoading","setIsSearchLoading","setSearchText","results","setResults","nominations","setNominations","debouncedSearch","useCallback","debounce","text","then","movies","length","Alert","severity","marginBottom","AlertTitle","TextField","label","InputProps","startAdornment","InputAdornment","position","value","onChange","e","target","includes","filter","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56f25c1a.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport { Card } from '@material-ui/core'\n\nexport const Container = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  min-width: calc(50% - 30px);\n  margin: 12px 12px 0px 0px;\n  padding: 12px;\n`\n\nexport const TitleText = styled.p`\n  font-size: 20px;\n  margin: 4px;\n`\n\nexport const LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n","import styled from 'styled-components'\nimport { ContentCard } from './components/ContentCard'\n\nexport const Container = styled.div`\n  background-color: whitesmoke;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n`\n\nexport const ContentWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 50px;\n  margin-bottom: 50px;\n  width: 70%;\n`\n\nexport const Header = styled.p`\n  font-size: 38px;\n  font-weight: bold;\n`\n\nexport const SearchWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding 16px;\n`\n\nexport const TwoCardWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n`\n\nexport const StyledContentCard = styled(ContentCard)`\n  padding: 12px;\n  margin: 6px:\n`\n","import React from 'react'\nimport { getMovieString, Movie } from '../types'\nimport { Container, LoadingContainer, TitleText } from './ContentCardStyles'\nimport { Button, CircularProgress } from '@material-ui/core'\n\ninterface Props {\n  title: string\n  items: Movie[]\n  buttonText: string\n  onPressButton: (movie: Movie) => void\n  isButtonDisabled: (movie: Movie) => boolean\n  isLoading?: boolean\n}\n\nexport const ContentCard: React.FC<Props> = (props) => {\n  const renderContent = () => {\n    return (\n      <ul>\n        {props.items.map((item, i) => {\n          return (\n            <li id={String(i)}>\n              {getMovieString(item)}{' '}\n              <Button\n                onClick={() => props.onPressButton(item)}\n                variant=\"contained\"\n                style={{ padding: 4, margin: 4 }}\n                disabled={props.isButtonDisabled(item)}\n              >\n                {props.buttonText}\n              </Button>\n            </li>\n          )\n        })}\n      </ul>\n    )\n  }\n\n  return (\n    <Container>\n      <TitleText>{props.title}</TitleText>\n      {!props.isLoading && renderContent()}\n      {props.isLoading && (\n        <LoadingContainer>\n          <CircularProgress />\n        </LoadingContainer>\n      )}\n    </Container>\n  )\n}\n","export interface Movie {\n  title: string\n  year: string\n}\n\nexport function getMovieString(movie: Movie) {\n  return movie.title + '(' + movie.year + ')'\n}\n","import { Movie } from '../types'\n\nconst API_URL = 'https://www.omdbapi.com/?apikey=4501579e&type=movie&s='\nconst LIMIT = 5\n\nexport const searchMovies = async (searchText: string): Promise<Movie[]> => {\n  try {\n    const response = await fetch(API_URL + searchText, {\n      method: 'GET',\n    })\n    const responseJson = await response.json()\n    console.log(responseJson)\n\n    return responseJson.Search.slice(0, LIMIT).map((json: any) => ({\n      title: json.Title,\n      year: json.Year,\n    }))\n  } catch (error) {\n    console.log(error)\n    return []\n  }\n}\n","import { Card, InputAdornment, TextField } from '@material-ui/core'\nimport React, { useCallback, useState } from 'react'\nimport {\n  Container,\n  ContentWrapper,\n  Header,\n  SearchWrapper,\n  StyledContentCard,\n  TwoCardWrapper,\n} from './AppStyles'\nimport Search from '@material-ui/icons/Search'\nimport { Movie } from './types'\nimport { searchMovies } from './api/searchMovies'\nimport { debounce } from 'lodash'\nimport Alert from '@material-ui/lab/Alert'\nimport AlertTitle from '@material-ui/lab/AlertTitle'\n\nconst DEBOUNCE_TIMER = 750 // in ms\n\nconst App: React.FC = () => {\n  const [isSearchLoading, setIsSearchLoading] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  const [results, setResults] = useState<Movie[]>([])\n  const [nominations, setNominations] = useState<Movie[]>([])\n\n  const onChangeSearch = (text: string) => {\n    setIsSearchLoading(true)\n    setSearchText(text)\n    debouncedSearch(text)\n  }\n\n  const debouncedSearch = useCallback(\n    debounce((text) => {\n      searchMovies(text).then((movies) => {\n        setResults(movies)\n        setIsSearchLoading(false)\n      })\n    }, DEBOUNCE_TIMER),\n    []\n  )\n\n  const addNomination = (movie: Movie) => {\n    setNominations([...nominations, movie])\n  }\n\n  const removeNomination = (movie: Movie) => {\n    setNominations(\n      nominations.filter(\n        (n) => n.title !== movie.title && n.year !== movie.year\n      )\n    )\n  }\n\n  return (\n    <Container>\n      <ContentWrapper>\n        <Header>The Shoppies</Header>\n        {nominations.length === 5 && (\n          <Alert severity=\"success\" style={{ marginBottom: 16 }}>\n            <AlertTitle>You're all set</AlertTitle>\n            Thank you for selecting your 5 nominations.\n          </Alert>\n        )}\n        <Card variant=\"outlined\">\n          <SearchWrapper>\n            <TextField\n              label=\"Movie Title\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search />\n                  </InputAdornment>\n                ),\n              }}\n              value={searchText}\n              onChange={(e) => onChangeSearch(e.target.value)}\n            />\n          </SearchWrapper>\n        </Card>\n        <TwoCardWrapper>\n          <StyledContentCard\n            title={'Results for ' + searchText}\n            items={results}\n            buttonText=\"Nominate\"\n            onPressButton={addNomination}\n            isButtonDisabled={(movie: Movie) =>\n              nominations.includes(movie) || nominations.length === 5\n            }\n            isLoading={isSearchLoading}\n          />\n          <StyledContentCard\n            title=\"Nominations\"\n            items={nominations}\n            buttonText=\"Remove\"\n            onPressButton={removeNomination}\n            isButtonDisabled={() => false}\n          />\n        </TwoCardWrapper>\n      </ContentWrapper>\n    </Container>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}